# Family Planner - 기능 명세

> 상태 아이콘: ⬜ 시작 안함 | 🟨 진행 중 | ✅ 완료 | ⏸️ 보류 | ❌ 취소

---

## ✅ 0. 프로젝트 초기 설정 및 기반 구조

### 아키텍처 및 설정
- ✅ Feature-First 폴더 구조 설계
- ✅ Riverpod 상태 관리 설정 (flutter_riverpod 2.6.1)
- ✅ GoRouter 라우팅 설정 (go_router 14.6.2)
- ✅ 환경 설정 시스템 (개발/프로덕션)
- ✅ API 클라이언트 기반 구조 (Dio, HTTP)

### 디자인 시스템
- ✅ 색상 팔레트 정의 (Primary, Secondary, Semantic, Functional)
- ✅ 간격 시스템 (4px ~ 48px)
- ✅ 타이포그래피 시스템 (Material Design 3)
- ✅ 라이트/다크 테마 지원
- ✅ 반응형 디자인 시스템 (Mobile/Tablet/Desktop)

### 공통 컴포넌트
- ✅ 앱 로고 위젯 (AppLogo)
- ✅ 대시보드 카드 위젯 (DashboardCard)
- ✅ 반응형 네비게이션 (ResponsiveNavigation)
- ✅ Bottom Navigation (5개 탭: 홈, 자산, 일정, 할일, 더보기)

### 배포 및 CI/CD
- ✅ Netlify 웹 배포 설정
- ✅ GitHub Actions 워크플로우 설정
- ✅ 웹 개발 포트 3001 고정 설정
- ✅ flutter analyze 및 빌드 검증 자동화

---

## 🟨 1. 회원 가입 및 로그인

### UI 구현
- ✅ 로그인 화면 레이아웃 및 반응형 디자인
- ✅ 이메일/비밀번호 입력 필드
- ✅ 소셜 로그인 버튼 UI (구글, 카카오, 애플)
- ✅ 회원가입 링크
- ✅ 회원가입 화면 UI
- ✅ 이메일 인증 화면 UI
- ✅ 비밀번호 찾기 화면 UI
- ✅ 비밀번호 찾기 링크 연결 (로그인 화면)
- ⬜ 프로필 설정 화면 UI

### 인증 로직
- ✅ 이메일/비밀번호 로그인 구현
- ✅ 회원가입 API 연동
- ✅ 이메일 인증 API 연동 (POST /auth/verify-email, code 파라미터 사용)
- ✅ 인증 이메일 재전송 기능
- ✅ 로그인 API 연동
- ✅ RTR(Refresh Token Rotation) 방식 구현
  - ✅ AccessToken 관리 (SharedPreferences)
  - ✅ RefreshToken 자동 갱신 (401 에러 시 자동 갱신)
  - ✅ 토큰 만료 처리 (Interceptor에서 자동 처리)
- ✅ 로그인 상태 지속성 (SharedPreferences + 자동 로그인)
- ✅ 비밀번호 재설정 요청 API 연동
- ✅ 비밀번호 재설정 API 연동

### 소셜 로그인
- ✅ 구글 로그인 SDK 연동 (google_sign_in)
- ✅ 카카오 로그인 SDK 연동 (kakao_flutter_sdk)
- ⬜ 애플 로그인 SDK 연동
- ✅ 소셜 로그인 클라이언트 로직 구현 (토큰 획득)
- ⚠️ 소셜 로그인 백엔드 API 연동 (임시 구현, 백엔드 개선 필요)
  - 현재: 웹 리다이렉트 방식의 callback URL 사용 (불완전)
  - 필요: POST /auth/google/token, POST /auth/kakao/token 엔드포인트
  - 상세 내용은 CLAUDE.md의 "소셜 로그인 API" 섹션 참조

### 상태 관리
- ✅ Auth Provider 구현
- ⬜ User Provider 구현
- ⬜ 로그인 상태 전역 관리

---

## 🟨 2. 메인화면 (대시보드)

### 기본 구조
- ✅ Bottom Navigation 5개 탭 구조
- ✅ 홈 탭 대시보드 레이아웃
- ✅ 인사말 섹션 (시간대별 메시지)
- ✅ 위젯 기반 커스터마이징 시스템
- ✅ 위젯 설정 화면 (활성화/비활성화)
- ✅ 위젯 설정 저장 (SharedPreferences)

### 대시보드 위젯 (UI만 완료, 데이터 연동 필요)
- ✅ 오늘의 일정 위젯 (TodayScheduleWidget) - UI 껍데기
- ✅ 투자 지표 요약 위젯 (InvestmentSummaryWidget) - UI 껍데기
- ✅ 할일 요약 위젯 (TodoSummaryWidget) - UI 껍데기
- ✅ 자산 요약 위젯 (AssetSummaryWidget) - UI 껍데기

### 데이터 연동 (미완성)
- ⬜ 오늘의 일정 데이터 로딩 및 표시
- ⬜ 투자 지표 실시간 데이터 연동
- ⬜ 할일 진행 상황 데이터 연동
- ⬜ 자산 현황 데이터 연동
- ⬜ 위젯 새로고침 기능
- ⬜ 위젯 순서 변경 기능 (드래그 앤 드롭)

### 추가 위젯 구현 예정
- ⬜ 이번 달 지출 위젯
- ⬜ 육아 포인트 위젯
- ⬜ 빠른 메모 위젯
- ⬜ 가족 현황 위젯

---

## ⬜ 3. 자산관리 메뉴

### UI 구현
- ✅ 자산 탭 플레이스홀더 화면
- ⬜ 자산 목록 화면
- ⬜ 자산 상세 화면
- ⬜ 자산 추가/수정 폼
- ⬜ 자산 통계 차트 화면
- ⬜ 가족 구성원별 자산 뷰

### 데이터 모델
- ⬜ 자산 계좌 모델 (Account)
- ⬜ 자산 기록 모델 (AssetRecord)
- ⬜ 자산 통계 모델 (AssetStatistics)

### 기능 구현
- ⬜ 계좌별 자산 데이터 입력 (매월)
- ⬜ 원금 입력
- ⬜ 수익금 입력 (이자, 주식 수익)
- ⬜ 계좌별 원금/수익금/수익률 계산
- ⬜ 가족 구성원별 자산 현황
- ⬜ 전체 원금 및 수익률 통계
- ⬜ 표 및 차트 시각화 (fl_chart)
- ⬜ 자산 내역 히스토리

### API 연동
- ⬜ 자산 목록 조회 API
- ⬜ 자산 추가 API
- ⬜ 자산 수정 API
- ⬜ 자산 삭제 API
- ⬜ 자산 통계 조회 API

### 상태 관리
- ⬜ Assets Provider 구현
- ⬜ Asset Statistics Provider 구현

---

## ⬜ 4. 투자지표 메뉴

### UI 구현
- ⬜ 투자지표 메인 화면
- ⬜ 지표 카드 컴포넌트
- ⬜ 미니 차트 위젯
- ⬜ 지표 상세 화면 (전체 차트)
- ⬜ 지표 선택/편집 화면

### 제공 지표
- ⬜ 코스피 (KOSPI)
- ⬜ 나스닥 (NASDAQ)
- ⬜ 금 시세
- ⬜ 금 김치 프리미엄
- ⬜ VIX 지수
- ⬜ 원/달러 환율
- ⬜ 버핏 지수
- ⬜ 사용자 정의 지표 추가 기능

### 기능 구현
- ⬜ 지표 선택/해제 기능
- ⬜ 지표 순서 변경 (드래그 앤 드롭)
- ⬜ 실시간 또는 주기적 데이터 업데이트
- ⬜ 지표 차트 시각화 (fl_chart)
- ⬜ 지표 상승/하락 표시
- ⬜ 지표 알림 설정

### API 연동
- ⬜ 외부 금융 데이터 API 연동 (Yahoo Finance, Alpha Vantage 등)
- ⬜ 지표 데이터 캐싱
- ⬜ 백엔드 API를 통한 지표 데이터 중계

### 상태 관리
- ⬜ Investment Indicators Provider 구현
- ⬜ Selected Indicators Provider 구현

---

## ⬜ 5. 가계 관리 메뉴

### UI 구현
- ⬜ 가계관리 메인 화면 (더보기 탭에서 접근)
- ⬜ 지출/수입 탭 구조
- ⬜ 월간 지출 요약 뷰
- ⬜ 카테고리별 원형 차트
- ⬜ 지출/수입 상세 목록
- ⬜ 지출/수입 추가 폼
- ⬜ 고정비용 관리 화면
- ⬜ 통계 및 분석 화면

### 데이터 모델
- ⬜ 지출/수입 항목 모델 (Transaction)
- ⬜ 카테고리 모델 (Category)
- ⬜ 고정비용 모델 (FixedExpense)
- ⬜ 월간 통계 모델 (MonthlyStatistics)

### 기능 구현
- ⬜ 일일 지출 내역 입력
- ⬜ 카테고리별 분류 (교통비, 식비, 여가비, 생활비, 기타)
- ⬜ 카테고리 추가/수정/삭제
- ⬜ 고정비용 등록 (월간/연간)
- ⬜ 해당 월 시작 시 고정비용 자동 반영
- ⬜ 카테고리별 지출 통계
- ⬜ 월별/연별 비교 분석
- ⬜ 예산 설정 및 초과 알림
- ⬜ 차트 시각화 (원형, 막대 차트)

### API 연동
- ⬜ 지출/수입 목록 조회 API
- ⬜ 지출/수입 추가 API
- ⬜ 지출/수입 수정/삭제 API
- ⬜ 고정비용 관리 API
- ⬜ 월간 통계 조회 API

### 상태 관리
- ⬜ Household Provider 구현
- ⬜ Categories Provider 구현
- ⬜ Fixed Expenses Provider 구현

---

## ⬜ 6. 일정 관리 메뉴

### UI 구현
- ✅ 일정 탭 플레이스홀더 화면
- ⬜ 월간 캘린더 뷰 (table_calendar)
- ⬜ 주간/일간 캘린더 뷰
- ⬜ 일정 목록 뷰
- ⬜ 일정 상세 화면
- ⬜ 일정 추가/수정 폼
- ⬜ 반복 일정 설정 UI

### 데이터 모델
- ⬜ 일정 모델 (Event)
- ⬜ 반복 일정 모델 (RecurringEvent)
- ⬜ 알림 설정 모델 (Notification)

### 기능 구현
- ⬜ 당일 일정 등록
- ⬜ 매년 반복 일정 등록
- ⬜ 일정 제목, 시간, 장소, 메모 입력
- ⬜ 공유 대상 설정 (본인/가족 전체/특정 인원)
- ⬜ 당일 오전 알람
- ⬜ 1시간 전 알람
- ⬜ 사용자 정의 시간 알람
- ⬜ 푸시 알림 지원
- ⬜ 일정 검색 기능
- ⬜ 일정 필터링 (내 일정/공유 일정)

### API 연동
- ⬜ 일정 목록 조회 API
- ⬜ 일정 추가 API
- ⬜ 일정 수정/삭제 API
- ⬜ 반복 일정 관리 API
- ⬜ 알림 설정 API

### 상태 관리
- ⬜ Calendar Provider 구현
- ⬜ Events Provider 구현
- ⬜ Notifications Provider 구현

---

## ⬜ 7. ToDoList 메뉴

### UI 구현
- ✅ 할일 탭 플레이스홀더 화면
- ⬜ 칸반 보드 뷰
- ⬜ 리스트 뷰
- ⬜ 할일 카드 컴포넌트
- ⬜ 할일 상세 화면
- ⬜ 할일 추가/수정 폼
- ⬜ 드래그 앤 드롭 기능

### 데이터 모델
- ⬜ 할일 모델 (Todo)
- ⬜ 할일 상태 Enum (등록/진행중/완료/Drop/Hold)
- ⬜ 우선순위 Enum (높음/보통/낮음)

### 기능 구현
- ⬜ 할일 내용 입력
- ⬜ 완료 예정일 설정
- ⬜ 우선순위 설정
- ⬜ 공유 대상 설정 (본인/가족 전체/특정 인원)
- ⬜ 칸반 보드 레이아웃
- ⬜ 드래그 앤 드롭으로 상태 변경
- ⬜ 리스트 뷰 전환
- ⬜ 할일 필터링 및 정렬
- ⬜ 완료된 할일 아카이브

### 상태 관리
  - 등록
  - 진행 중
  - 완료
  - Drop
  - Hold

### API 연동
- ⬜ 할일 목록 조회 API
- ⬜ 할일 추가 API
- ⬜ 할일 수정/삭제 API
- ⬜ 할일 상태 변경 API

### 상태 관리
- ⬜ Todo Provider 구현
- ⬜ Todo Filter Provider 구현

---

## ⬜ 8. 육아 포인트 메뉴

### UI 구현
- ⬜ 육아포인트 메인 화면 (더보기 탭에서 접근)
- ⬜ 포인트 탭/표 탭/규칙 탭/히스토리 탭
- ⬜ 자녀별 포인트 카드
- ⬜ 포인트 사용/적립 폼
- ⬜ 포인트 표 관리 화면
- ⬜ 포인트 규칙 관리 화면
- ⬜ 포인트 히스토리 화면

### 데이터 모델
- ⬜ 자녀 모델 (Child)
- ⬜ 포인트 계정 모델 (PointAccount)
- ⬜ 포인트 항목 모델 (PointItem)
- ⬜ 포인트 규칙 모델 (PointRule)
- ⬜ 포인트 트랜잭션 모델 (PointTransaction)

### 기능 구현
- ⬜ 매달 정해진 금액 포인트 자동 지급
- ⬜ 부모의 포인트 지급액 설정
- ⬜ 포인트 적금 기능
- ⬜ 적금 이자 계산 및 지급
- ⬜ 포인트 사용 항목 등록/편집
- ⬜ 포인트 규칙 등록/편집
- ⬜ 규칙 위반 시 포인트 차감
- ⬜ 포인트 적립/사용 내역 조회
- ⬜ 날짜별 필터링

### API 연동
- ⬜ 자녀 목록 조회 API
- ⬜ 포인트 계정 조회 API
- ⬜ 포인트 적립/사용 API
- ⬜ 포인트 항목 관리 API
- ⬜ 포인트 규칙 관리 API
- ⬜ 포인트 히스토리 조회 API

### 상태 관리
- ⬜ Child Points Provider 구현
- ⬜ Point Items Provider 구현
- ⬜ Point Rules Provider 구현

---

## ⬜ 9. 메모 메뉴

### UI 구현
- ⬜ 메모 목록 화면 (더보기 탭에서 접근)
- ⬜ 메모 상세 화면
- ⬜ 메모 작성/수정 에디터
- ⬜ 메모 검색 화면
- ⬜ 카테고리/태그 필터

### 데이터 모델
- ⬜ 메모 모델 (Memo)
- ⬜ 카테고리 모델 (Category)
- ⬜ 태그 모델 (Tag)

### 기능 구현
- ⬜ HTML/Markdown 형식 지원
- ⬜ Rich Text 에디터
- ⬜ 제목 및 본문 입력
- ⬜ 카테고리 분류
- ⬜ 태그 추가/관리
- ⬜ 공유 대상 설정 (본인/가족 전체/특정 인원)
- ⬜ 메모 검색 기능
- ⬜ 메모 즐겨찾기
- ⬜ 메모 정렬 (최신순, 제목순, 수정일순)

### API 연동
- ⬜ 메모 목록 조회 API
- ⬜ 메모 추가 API
- ⬜ 메모 수정/삭제 API
- ⬜ 메모 검색 API
- ⬜ 카테고리/태그 관리 API

### 상태 관리
- ⬜ Memo Provider 구현
- ⬜ Memo Filter Provider 구현

---

## ⬜ 10. 미니게임 메뉴

### UI 구현
- ⬜ 미니게임 메인 화면 (더보기 탭에서 접근)
- ⬜ 사다리타기 화면
- ⬜ 룰렛 화면
- ⬜ 게임 이력 화면

### 사다리타기
- ⬜ 참여 인원 설정 UI
- ⬜ 결과 항목 설정 UI
- ⬜ 사다리 자동 생성 알고리즘
- ⬜ 사다리 애니메이션 효과
- ⬜ 결과 표시

### 룰렛 돌리기
- ⬜ 항목 추가/삭제 UI
- ⬜ 룰렛 회전 애니메이션
- ⬜ 결과 표시 애니메이션
- ⬜ 항목별 색상 설정

### 기능 구현
- ⬜ 게임 이력 저장
- ⬜ 게임 이력 조회
- ⬜ 게임 설정 저장

### 상태 관리
- ⬜ Mini Games Provider 구현

---

## 🟨 11. 다국어 지원 (Internationalization)

### 다국어 시스템 구축
- ✅ flutter_localizations 패키지 설정
- ✅ intl 패키지 설정
- ✅ 언어 리소스 파일 구조 설계 (ARB 파일)
- ✅ AppLocalizations 클래스 생성 (자동 생성)
- ✅ Locale Provider 구현 (Riverpod)
- ✅ 언어 변경 기능 구현
- ✅ 언어 설정 저장 (SharedPreferences)

### 지원 언어
- ✅ 한국어 (ko) - 기본 언어
- ✅ 영어 (en)
- ✅ 일본어 (ja) - ARB 파일 준비됨

### 번역 적용 범위
- ✅ 공통 UI 요소 (버튼, 라벨, 에러 메시지) - ARB 파일 작성 완료
- ⬜ 인증 화면 (로그인, 회원가입, 비밀번호 찾기) - 적용 필요
- ⬜ 메인 화면 (대시보드, Bottom Navigation) - 적용 필요
- ⬜ 설정 화면 - 적용 필요
- ⬜ 날짜/시간 포맷 지역화
- ⬜ 숫자/통화 포맷 지역화

### 언어 설정 UI
- ✅ 설정 화면에 언어 선택 메뉴 추가
- ✅ 지원 언어 목록 표시
- ✅ 현재 선택된 언어 표시
- ✅ 언어 변경 시 앱 전체 UI 즉시 업데이트
- ✅ 시스템 언어 사용 옵션

### 번역 관리
- ✅ ARB 파일 구조 정의
- ✅ 한국어 리소스 파일 (app_ko.arb)
- ✅ 영어 리소스 파일 (app_en.arb)
- ✅ 번역 키 네이밍 규칙 정의 (auth_, nav_, home_, settings_, common_ 등)
- ⬜ 일본어 리소스 파일 (app_ja.arb) - 추후 작성
- ⬜ 번역 누락 검증 시스템

---

## 🟨 12. 설정 메뉴

### UI 구현
- ✅ 설정 메인 화면
- ✅ 테마 설정 화면 (라이트/다크/시스템)
- ✅ 홈 위젯 설정 화면
- ⬜ 프로필 설정 화면
- ⬜ 가족 관리 화면
- ⬜ 알림 설정 화면

### 기능 구현
- ✅ 테마 모드 전환 (라이트/다크/시스템)
- ✅ 테마 설정 저장 (SharedPreferences)
- ✅ 홈 위젯 활성화/비활성화
- ✅ 홈 위젯 설정 저장
- ⬜ 프로필 정보 수정
- ⬜ 프로필 이미지 업로드
- ⬜ 가족 구성원 초대
- ⬜ 가족 구성원 관리
- ⬜ 알림 권한 설정
- ⬜ 알림 종류별 On/Off
- ⬜ 알림 시간 설정

### API 연동
- ⬜ 프로필 조회/수정 API
- ⬜ 가족 관리 API
- ⬜ 알림 설정 API

### 상태 관리
- ✅ Theme Mode Provider 구현
- ⬜ User Profile Provider 구현
- ⬜ Family Provider 구현

---

## ⬜ 12. 공통 기능

### 푸시 알림
- ⬜ Firebase Cloud Messaging 설정
- ⬜ 푸시 알림 수신
- ⬜ 알림 클릭 시 해당 화면 이동
- ⬜ 백그라운드 알림 처리

### 가족 관리
- ⬜ 가족 그룹 생성
- ⬜ 가족 구성원 초대 (초대 코드)
- ⬜ 가족 구성원 권한 관리
- ⬜ 가족 구성원 정보 조회

### 공유 기능
- ⬜ 일정 공유 로직
- ⬜ 할일 공유 로직
- ⬜ 메모 공유 로직
- ⬜ 공유 대상 선택 UI

### 검색 기능
- ⬜ 전체 검색 (일정, 할일, 메모 통합 검색)
- ⬜ 검색 히스토리
- ⬜ 최근 검색어

### 오프라인 지원
- ⬜ 로컬 데이터베이스 (Hive 또는 SQLite)
- ⬜ 오프라인 데이터 캐싱
- ⬜ 온라인 복귀 시 동기화

---

## 향후 추가 예정 기능

이 섹션에는 나중에 추가될 수 있는 기능들을 기록합니다.

### 고려 중인 기능
- ⬜ 가족 사진 앨범
- ⬜ 가족 채팅
- ⬜ 가족 위치 공유
- ⬜ 건강 기록 (키, 몸무게 등)
- ⬜ 가족 목표 설정 및 추적
- ⬜ 데이터 백업/복원
- ⬜ 데이터 내보내기 (CSV, PDF)

---

## 개발 진행 상황 요약

### 완료된 작업 (✅)
- 프로젝트 기반 구조 (아키텍처, 라우팅, 상태관리)
- 디자인 시스템 (테마, 색상, 간격, 타이포그래피)
- 반응형 레이아웃
- 로그인 화면 UI
- 홈 화면 및 Bottom Navigation
- 대시보드 위젯 시스템
- 설정 화면 (테마, 홈 위젯)
- 배포 설정 (Netlify, GitHub Actions)

### 진행 중인 작업 (🟨)
- 회원 가입 및 로그인 (UI 완료, 로직 미완성)
- 메인화면 대시보드 (UI 완료, 데이터 연동 미완성)
- 설정 메뉴 (일부 완료)

### 시작하지 않은 작업 (⬜)
- 자산관리, 투자지표, 가계관리 기능
- 일정 관리, ToDoList, 육아 포인트 기능
- 메모, 미니게임 기능
- 대부분의 API 연동 및 상태 관리
- 공통 기능 (푸시 알림, 가족 관리, 검색, 오프라인)

---

**Last Updated:** 2025-11-22
**Total Features:** 13개 주요 기능
**Completed:** 1개 (프로젝트 기반 구조)
**In Progress:** 4개 (로그인, 메인화면, 다국어, 설정)
**Not Started:** 8개 (나머지 기능들)